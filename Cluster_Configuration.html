<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<title>SCI DevOps Portal - Cluster Configuration & Deployment</title>
<link rel="stylesheet" href="css/jquery-ui.css">
<script src="js/jquery-1.js" type="text/javascript"></script>
<script src="js/jquery-ui.js" type="text/javascript"></script>
<link rel="stylesheet" href="css/tab_style.css">
<link rel="stylesheet" href="css/bootstrap.css">
<link rel="stylesheet" href="css/bootstrap-editable.css">
<script src="js/bootstrap.js" type="text/javascript"></script>
<script src="js/bootstrap-editable.js" type="text/javascript"></script>

     
  <script>
  $(function() {
    $( "#tabs" ).tabs().addClass( "ui-tabs-vertical ui-helper-clearfix" );
    $( "#tabs li" ).removeClass( "ui-corner-top" ).addClass( "ui-corner-left" );
  });
  </script>
  
   <script>
  
  
  $(document).ready(function() {
  
	$('#tabs').tabs({ active: 0 });
	
	$('.newNode').hide();
	$('.existingNode').hide();
	$('.loadBalancer').hide();
	
	var rows = $('#HAConfigurataion div');
	//alert(rows[0].type);

	rows.each(function() {

		if(this.id)
		{
			$('#'+(this.id)).hide();	
		}
	
	});
	
	$('#HAConfigurataion input:checkbox').change(function () {

		if(this.checked)
		{
			$('#row'+this.name).show();
		}
		else
		{
			$('#row'+this.name).hide();	
		}
		
	});
	 $('#tabs-1 input:radio').change(function () {
			var selectedVal = $("#tabs-1 input:radio:checked").val();
			
			//alert(selectedVal);
			if(selectedVal=="New")
			{
				$("#selectOptionLabel").text("Create New Node");
				$('.newNode').show();
				$('.existingNode').hide();
				
			}
			else
			{
				$("#selectOptionLabel").text("Please Choose Node");
				$('.newNode').hide();
				$('.existingNode').show();
			}	
		
	 });
	 
	 $('#networkType').change(function () {

			var options = $(this).val();
			if(options=="0")
			{
				$('.Quantum').show();				
			}
			else
			{
				$('.Quantum').hide();	
			}
	  });

	 
	 $("#haEnabledCheck").click(function(e){
		var isChecked = $('#haEnabledCheck:checked').val()?true:false;
		
		if(isChecked)
		{
			$('.loadBalancer').show();	
		}
		else
		{
			$('.loadBalancer').hide();
		}
	 });
  });	

  </script>

</head>

<body>
	<div
		class="ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-vertical ui-helper-clearfix"
		id="tabs">
		<ul role="tablist"
			class="ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all">
			<li aria-selected="true" aria-labelledby="ui-id-1"
				aria-controls="tabs-1" tabindex="0" role="tab"
				class="ui-state-default ui-tabs-active ui-state-active ui-corner-left"><a 			id="ui-id-1" tabindex="-1" role="presentation"
				class="ui-tabs-anchor" href="#tabs-1">Info</a></li>
			<li aria-selected="false" aria-labelledby="ui-id-2"
				aria-controls="tabs-2" tabindex="-1" role="tab"
				class="ui-state-default ui-corner-left"><a id="ui-id-2" tabindex="-1" role="presentation" class="ui-tabs-anchor"
				href="#tabs-2">Basic Configuration</a></li>
			<li aria-selected="false" aria-labelledby="ui-id-3"
				aria-controls="tabs-3" tabindex="-1" role="tab"
				class="ui-state-default ui-corner-left"><a id="ui-id-3"
				tabindex="-1" role="presentation" class="ui-tabs-anchor"
				href="#tabs-3">HA Configuration</a></li>
			<li aria-selected="false" aria-labelledby="ui-id-4"
				aria-controls="tabs-4" tabindex="-1" role="tab"
				class="ui-state-default ui-corner-left"><a id="ui-id-4"
				tabindex="-1" role="presentation" class="ui-tabs-anchor"
				href="#tabs-4">Node-Role Mapping</a></li>
			<li aria-selected="false" aria-labelledby="ui-id-5"
				aria-controls="tabs-5" tabindex="-1" role="tab"
				class="ui-state-default ui-corner-left"><a id="ui-id-5"
				tabindex="-1" role="presentation" class="ui-tabs-anchor"
				href="#tabs-5">Deployment</a></li>
	
		</ul>
		<div aria-hidden="false" aria-expanded="true" role="tabpanel"
			class="ui-tabs-panel ui-widget-content ui-corner-bottom"
			aria-labelledby="ui-id-1" id="tabs-1">
			<h2>Info</h2>
			<form name="form1" id="form1">
				<table id="baseTable" summary="Speadsheet" border="0" width="50%">
				<tbody>
						<tr>
							<td width="20%"><label> Select Option: </label></td>
							<td><input id="selectOption" name="selectOption" value="New"
								type="radio">&nbsp;Create New Cluster&nbsp;&nbsp;&nbsp;&nbsp;<input name="selectOption"  value="Exiting"
								type="radio">&nbsp;Select Existing Cluster</td>
						</tr>		
						<tr>
							<td>&nbsp;</td>
							<td>&nbsp;</td>
						</tr>	
											
						<tr>
							<td width="20%"><label id="selectOptionLabel"></label></td>
							<td>
								<div id="newNode" class="newNode">
									<table id="baseTable" summary="Speadsheet" border="0" width="100%">
									<tbody>
										<tr>
											<td width="30%"><label> Cluster Name</label></td>
											<td><input name="nodeName" type="text"></td>
										</tr>
										<tr>
											<td id="subCategory"><label> Cluster Description: </label></td>
											<td><input name="installNIC"  type="text">
											</td>
										</tr>	

									</tbody>
									</table>
								</div>	
								<div id="existingNode" class="existingNode">
									<table id="baseTable" summary="Speadsheet" border="0" width="100%">
									<tbody>
										<tr>
											<td>
												<select name="existingNodeSelect">
													<option>devr1n31</option>
													<option>devr1n33</option>
													<option>glance-tt</option>
													<option>keystone-tt</option>
													<option>mysql-tt</option>
													<option>novacontroller-tt</option>
													<option>qpid-tt</option>
													<option>quantum-tt</option>
												</select></td>
										</tr>
									</tbody>
									</table>
								</div>									
							   
							</td>
						</tr>						
						<tr>
							<td>&nbsp;</td>
							<td>&nbsp;</td>
						</tr>
						
						<tr>
							<td><input class="saveButton" value="NEXT" type="button">
							</td>
							<td align="left">&nbsp;
							</td>							
						</tr>
					</tbody>
				</table>
			</form>
			<p></p>

		</div>
		<div aria-hidden="true" aria-expanded="false" style="display: none;"
			role="tabpanel"
			class="ui-tabs-panel ui-widget-content ui-corner-bottom"
			aria-labelledby="ui-id-2" id="tabs-2">
			<h2>Basic Configuration </h2>
			<form name="form2" id="form2">
				<input name="featureCodeGroupID" value="FOD" type="hidden">
				
				<div id="basicConfiguration">
				<table>
					<tbody>
						<tr>
							<td id="featureCodeCategory"><label> Database Type: </label></td>
							<td>
								
								<select name="databaseType" >
													<option>MySQL</option>
													<option>DB2</option></select>
								</td>
						</tr>
						<tr>
							<td id="subCategory"><label> AMQP Type: </label></td>
							<td>								<select name="amqpType">
													<option>QPID</option>
													<option>RabbitMQ</option></select>
							</td>
						</tr>
						<tr>
							<td id="groupMin"><label> Network Type: </label></td>
							<td><select name="networkType" id="networkType" id="networkType">
													<option value="0">Quantum</option>
													<option value="1">Nova-Network</option></select></td>
						</tr>

					</tbody>
				</table>
				</div>
				
				
				<p></p>
				<table id="baseTable" summary="Speadsheet" border="1" width="50%">
					<TR>
						<TD width="15%" ROWSPAN=3 >OSOPS</TD>
						<TD width="25%">Public Network</TD> <TD><input name="nodeName" type="text"></TD>
					</TR>
					<TR>
						<TD>Nova Network</TD> <TD><input name="nodeName" type="text"></TD> 
					</TR>
					<TR>
						<TD>Management Network</TD> <TD><input name="nodeName" type="text"></TD>
					</TR>

				</TABLE>


				<p></p>
				<table id="baseTable" summary="Speadsheet" border="1" width="50%">
					<TR>
						<TD width="15%" >Glance</TD>
						<TD  width="25%">Image Upload</TD> <TD>
						<input id="imageUpload" name="imageUpload" value="ImageYes"
								type="radio">&nbsp;Yes&nbsp;&nbsp;&nbsp;&nbsp;<input name="imageUpload"  value="ImageNo"
								type="radio">&nbsp;No</TD>
					</TR>


				</TABLE>

				<div id="Quantum" class="Quantum">
				<p></p>
				<table id="baseTable" summary="Speadsheet" border="1" width="50%">
					<TR>
						<TD width="15%" ROWSPAN=6 >Quantum</TD>
						<TD width="25%">Tenant Network Type</TD> <TD><input name="nodeName" type="text"></TD>
					</TR>
					<TR>
						<TD>Network VLAN Rang</TD> <TD><input name="nodeName" type="text"></TD> 
					</TR>
					<TR>
						<TD>Tunnel ID Range</TD> <TD><input name="nodeName" type="text"></TD>
					</TR>
					<TR>
						<TD>Enable Tunneling</TD> <TD><input id="enableTuneling" name="enableTuneling" value="tunelYes"
								type="radio">&nbsp;Yes&nbsp;&nbsp;&nbsp;&nbsp;<input name="enableTuneling"  value="tunelNo"
								type="radio">&nbsp;No</TD> 
					</TR>
					<TR>
						<TD>Bridge Mapping NIC</TD> <TD><input name="nodeName" type="text"></TD>
					</TR>
					<TR>
						<TD>Floating IP NIC</TD> <TD><input name="nodeName" type="text"></TD> 
					</TR>
				</TABLE>
				</div>
				
				<table  border="0" width="50%">
					<tbody>

						<tr>
							<td>&nbsp;</td>
							<td>&nbsp;</td>
						</tr>
						<tr>
							<td><input class="saveButton" value="BACK" type="button"></td><td  align="right"><input
								class="refreshButton" id="1" value="NEXT" type="button">
							</td>
						</tr>
					</tbody>
				</table>
		</div>
		<div aria-hidden="true" aria-expanded="false" style="display: none;"
			role="tabpanel"
			class="ui-tabs-panel ui-widget-content ui-corner-bottom"
			aria-labelledby="ui-id-3" id="tabs-3">
			<h2>HA Configuration</h2>
			<form name="form3" id="form3">

			<div id="haEnabled" class="haEnabled">
			<table id="baseTable" summary="Speadsheet" border="0" width="50%">
				<tbody>
						<tr>
							<td width="28%"><label> HA Enabled: </label></td>
							<td><input id="haEnabledCheck" name="haEnabledCheck" value="New"
								type="checkbox" ></td>
						</tr>		
					</tbody>
				</table>		

				<p></p>		
				
				<div id="loadBalancer" class="loadBalancer">
									<table id="baseTable" summary="Speadsheet" border="0" width="70%">
									<tbody>
										<tr><td width="20%"><label> Load Balancer: </label></td>
											<td>
												<select name="existingNodeSelect">
													<option>Stringray</option>
													<option>HAProxy</option>
												</select></td>
										</tr>
									</tbody>
									</table>
									
									
									
										<p></p>
				<div id="HAConfigurataion" class="HAConfigurataion">						
				<table  border="1" width="100%">
					<TH align="center">
						<TD align="center" width="10%">DB</TD>
						<TD align="center" width="10%"> MQ</TD> 
						<TD align="center" width="10%">KeyStone</TD>
						<TD align="center" width="10%"> Glance API</TD> 
						<TD align="center" width="10%">Glance Registry</TD>
						<TD align="center" width="10%"> Cinder API</TD> 
						<TD align="center" width="10%">NOVA API</TD>
						<TD align="center" width="10%"> EC2-API</TD> 
						<TD align="center" width="10%">Qunatum Server</TD>
					</TH>
					<TR align="center">
					<TD align="center" width="10%"> HA Component</TD>
						<TD align="center" width="10%"><input name="haEnabledCheck1" value="New"
								type="checkbox" ></TD>
						<TD align="center" width="10%"><input name="haEnabledCheck2" value="New"
								type="checkbox" ></TD>
						<TD align="center" width="10%"><input name="haEnabledCheck3" value="New"
								type="checkbox" ></TD>
														<TD align="center" width="10%"><input name="haEnabledCheck4" value="New"
								type="checkbox" ></TD>
						<TD align="center" width="10%"><input name="haEnabledCheck5" value="New"
								type="checkbox" ></TD>
														<TD align="center" width="10%"><input name="haEnabledCheck6" value="New"
								type="checkbox" ></TD>
						<TD align="center" width="10%"><input name="haEnabledCheck7" value="New"
								type="checkbox" ></TD>
														<TD align="center" width="10%"><input name="haEnabledCheck8" value="New"
								type="checkbox" ></TD>
						<TD align="center" width="10%"><input name="haEnabledCheck9" value="New"
								type="checkbox" ></TD>								
					</TR>
<TR align="center">
					<TD align="center" width="10%"> Virtual IP</TD>
						<TD align="center" width="10%"><div id="rowhaEnabledCheck1"><label id="dbPrimaryHost"> DB2 Primary </label><input id="haEnabledCheck1text" name="haEnabledCheck1text" 
								type="text" size="12" ><label id="dbSecondaryHost">DB2 Secondary </label><input id="haEnabledCheck1textS" name="haEnabledCheck1textS" 
								type="text" size="12" ><label id="dbVirtualIPL"> Virtual IP </label><input id="dbVirutalIP" name="dbVirutalIP" 
								type="text" size="12" ></div></TD>
						<TD align="center" width="10%"><div id="rowhaEnabledCheck2"><label id="mqPrimaryHost"> QPID Primary </label><input id="haEnabledCheck2text" name="haEnabledCheck2text" 
								type="text" size="12" ><label id="mqSecondaryHost">QPID Secondary </label><input id="haEnabledCheck2textS" name="haEnabledCheck2textS" 
								type="text" size="12" ><label id="mqVirtualIPL"> Virtual IP </label><input id="mqVirutalIP" name="mqVirutalIP" 
								type="text" size="12" ></div></TD>
						<TD align="center" width="10%" ><div id="rowhaEnabledCheck3"><input name="haEnabledCheck3text" id="haEnabledCheck3text"
								type="text" size="12" ></div></TD>
														<TD  align="center" width="10%"><div id="rowhaEnabledCheck4"><input name="haEnabledCheck4text" id="haEnabledCheck4text"
								type="text" size="12" ></div></TD>
						<TD align="center" width="10%" ><div id="rowhaEnabledCheck5"><input name="haEnabledCheck5text" id="haEnabledCheck5text"
								type="text" size="12" ></div></TD>
														<TD align="center" width="10%"><div id="rowhaEnabledCheck6"><input name="haEnabledCheck6text" id="haEnabledCheck6text"
								type="text" size="12" ></div></TD>
						<TD align="center" width="10%" id><div id="rowhaEnabledCheck7"><input name="haEnabledCheck7text" id="haEnabledCheck7text"
								type="text" size="12" ></div></TD>
														<TD align="center" width="10%"><div id="rowhaEnabledCheck8"><input name="haEnabledCheck8text" id="haEnabledCheck8text"
								type="text"size="12" > </div></TD>
						<TD align="center" width="10%" id=><div id="rowhaEnabledCheck9"><input name="haEnabledCheck9text" id="haEnabledCheck9text"
								type="text" size="12" ></div></TD>								
					</TR>
				</TABLE>
				</div>
				
			
									
									
				</div>					
				
				<table  border="0" width="50%">
					<tbody>

						<tr>
							<td>&nbsp;</td>
							<td>&nbsp;</td>
						</tr>
						<tr>
							<td><input class="saveButton" value="BACK" type="button"></td><td  align="right"><input
								class="refreshButton" id="1" value="NEXT" type="button">
							</td>
						</tr>
					</tbody>
				</table>				
				
				
				
			</div>
			</form>
	
		</div>
		<div aria-hidden="true" aria-expanded="false" style="display: none;"
			role="tabpanel"
			class="ui-tabs-panel ui-widget-content ui-corner-bottom"
			aria-labelledby="ui-id-4" id="tabs-4">
			<h2>Node Role Mapping</h2>
			<form name="form4" id="form4">

							<table id="baseTable" summary="Speadsheet" border="0" width="70%">
									<tbody>
										<tr><td width="20%"><label> Deployment Selection: </label></td>
											<td>
												<select name="existingNodeSelect">
													<option>All In One</option>
													<option>Singole-Controller</option>
													<option>Multi-Nodes</option>
												</select></td>
										</tr>
									</tbody>
									</table>
									
				<p></p>					
			<div id="NodeMapping" class="NodeMapping">						
				<table  border="1" width="100%">
					<TH align="center">
						<TD align="center" width="10%">Node / Role</TD>
						<TD align="center" width="10%"> DB</TD> 
						<TD align="center" width="10%">KeyStone</TD>
						<TD align="center" width="10%"> Glance</TD> 
						<TD align="center" width="10%">Nova Controller</TD>
						<TD align="center" width="10%"> Cinder Controller</TD> 
						<TD align="center" width="10%">Qunatum Server</TD>
					</TH>
					<TR align="center">
					<TD align="center" width="10%"> Node 1</TD>
						<TD align="center" width="10%"><input name="haEnabledCheck1" value="New"
								type="checkbox" ></TD>
						<TD align="center" width="10%"><input name="haEnabledCheck2" value="New"
								type="checkbox" ></TD>
						<TD align="center" width="10%"><input name="haEnabledCheck3" value="New"
								type="checkbox" ></TD>
														<TD align="center" width="10%"><input name="haEnabledCheck4" value="New"
								type="checkbox" ></TD>
						<TD align="center" width="10%"><input name="haEnabledCheck5" value="New"
								type="checkbox" ></TD>
														<TD align="center" width="10%"><input name="haEnabledCheck6" value="New"
								type="checkbox" ></TD>
						<TD align="center" width="10%"><input name="haEnabledCheck7" value="New"
								type="checkbox" ></TD>
						
					</TR>
					<TR align="center">
					<TD align="center" width="10%"> Node 2</TD>
						<TD align="center" width="10%"><input name="haEnabledCheck1" value="New"
								type="checkbox" ></TD>
						<TD align="center" width="10%"><input name="haEnabledCheck2" value="New"
								type="checkbox" ></TD>
						<TD align="center" width="10%"><input name="haEnabledCheck3" value="New"
								type="checkbox" ></TD>
														<TD align="center" width="10%"><input name="haEnabledCheck4" value="New"
								type="checkbox" ></TD>
						<TD align="center" width="10%"><input name="haEnabledCheck5" value="New"
								type="checkbox" ></TD>
														<TD align="center" width="10%"><input name="haEnabledCheck6" value="New"
								type="checkbox" ></TD>
						<TD align="center" width="10%"><input name="haEnabledCheck7" value="New"
								type="checkbox" ></TD>
						
					</TR>					
				</TABLE>
				</div>									
									
								
								
				<table  border="0" width="50%">
					<tbody>

						<tr>
							<td>&nbsp;</td>
							<td>&nbsp;</td>
						</tr>
						<tr>
							<td><input class="saveButton" value="BACK" type="button"></td><td  align="right"><input
								class="refreshButton" id="1" value="NEXT" type="button">
							</td>
						</tr>
					</tbody>
				</table>	
				
				<p></p>
				
				<h3>Please Note : (Not shown in this prototype)</h3>
				
				If HA is disabled, we need to show deployment selection (all-in-one, single-controller, multi-nodes), the corresponding roles are listed in page 11 in PPT
				<p>If HA is enabled, we need to show the HA roles listed in page 11 in PPT
				<p>Add validity checking:
					<br>Do not show quantum roles if user selected nova-network in the basic configuration;
					<br>Do not show nova-network role is user selected quantum in the basic configuration;
					<br>Nova-compute and quantum-ovs-agent must be installed on the same node if quantum mode
				
									
		</div>
		<div aria-hidden="true" aria-expanded="false" style="display: none;"
			role="tabpanel"
			class="ui-tabs-panel ui-widget-content ui-corner-bottom"
			aria-labelledby="ui-id-5" id="tabs-5" align="center">
			<h2>Deployment</h2>
			<form name="form5" id="form5">
				<p></p>
				<table border="0" width="60%">
				<tbody>
					<tr>
						<th scope="col" width="50%"><input class="photoButton" value="Start Deployment"
								type="button"></th>
						<th scope="col" width="50%"><input class="photoButton" value="Reset Cluster"
								type="button"></th>
					</tr>
					<tr align="center">	
						<td colspan="2"><textarea rows="21" cols="50"></textarea></td>
					</tr>
				</tbody>
			</table>
				<p></p>
				<p></p>
	
		</div>
	
	</div>


</body>
</html>