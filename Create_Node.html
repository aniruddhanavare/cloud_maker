<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<title>SCI DevOps Portal - Create New Node</title>

<link rel="stylesheet" href="css/jquery-ui.css">
<link rel="stylesheet" href="css/tab_style.css">
<link rel="stylesheet" href="css/bootstrap.css">
<link rel="stylesheet" href="css/bootstrap-editable.css">

<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <script src="/_utils/script/json2.js"></script>
    <script src="/_utils/script/sha1.js"></script>
    <script src="/_utils/script/jquery.js?1.4.2"></script>
    <script src="/_utils/script/jquery.couch.js?0.11.0"></script>
    <script src="/_utils/script/jquery.dialog.js?0.11.0"></script>	
<script>

$.couch.urlPrefix = "http://localhost:5984";

$(document).ready(function() {
		
		$("#saveButton").click(function(e){
		
			var jsonPayload = {};
			jsonPayload['type']='node';
			
			var rows = $('#create_node input:text');
			for(i=0;i<rows .length;i++)
			{
				jsonPayload[rows[i].name]=rows[i].value;
			}
			$.couch.db("devops").saveDoc(jsonPayload, {
				success: function(data) {
					if(data.ok)
					{
						alert("Node Saved");
						$('#create_node').submit();
					}
				},
				error: function(status) {
					alert(status);
				}
			});
		});		
	});

</script>
</head>

<body>
	<div
		class="ui-tabs ui-widget ui-widget-content">

		<div class="ui-tabs-panel ui-widget-content ui-corner-bottom">
			
			<h2>Create New Node</h2>
			<p></p>
			<form name="create_node" id="create_node" action="Node_Registration.html">
				<table id="baseTable" summary="Speadsheet" border="0" width="40%">
				<tbody>
						<tr>
							<td width="30%"><label> Node Name: </label></td>
							<td><input name="name" id="name"
								type="text"></td>
						</tr>
						<tr>
							<td id="subCategory"><label> Install NIC: </label></td>
							<td><input name="install_nic" id="install_nic"  type="text">
							</td>
						</tr>
						<tr>
							<td id="groupMin"><label> Install IP: </label></td>
							<td><input name="install_ip" id="install_ip" type="text"></td>
						</tr>
						<tr>
							<td id="groupMax"><label> Install Gateway: </label></td>
							<td><input name="install_gw" id="install_gw" type="text"></td>
						</tr>
						<tr>
							<td id="groupMax"><label> Net Mask: </label></td>
							<td><input name="install_nmask" id="install_nmask" type="text"></td>
						</tr>						
						<tr>
							<td>&nbsp;</td>
							<td>&nbsp;</td>
						</tr>
						<tr>
							<td><input id="saveButton" value="SAVE NODE" type="button">
							</td>
							<td align="left"><input
								class="refreshButton" id="0" value="CANCEL" type="button">
							</td>							
						</tr>
					</tbody>
				</table>
			</form>
			
		</div>
</body>
</html>